--------------------------------------------------------
--  File created - Monday-February-14-2022   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Sequence DEPT_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "DRIVER"."DEPT_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 10100 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence ROUTE_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "DRIVER"."ROUTE_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 10020 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Table DRIVER
--------------------------------------------------------

  CREATE TABLE "DRIVER"."DRIVER" 
   (	"ID" NUMBER(10,0), 
	"NAME" NVARCHAR2(50), 
	"ADDRESS" NVARCHAR2(200), 
	"PHONE" NVARCHAR2(11), 
	"SKILL_LEVEL" NVARCHAR2(1)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table ROSTER
--------------------------------------------------------

  CREATE TABLE "DRIVER"."ROSTER" 
   (	"DRIVER_ID" NUMBER(10,0), 
	"ROUTE_ID" NUMBER(10,0), 
	"TOTAL_ROUTE" NUMBER(10,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table ROUTE
--------------------------------------------------------

  CREATE TABLE "DRIVER"."ROUTE" 
   (	"ID" NUMBER, 
	"DISTANCE" FLOAT(126), 
	"TOTAL_BUS_STOP" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
REM INSERTING into DRIVER.DRIVER
SET DEFINE OFF;
Insert into DRIVER.DRIVER (ID,NAME,ADDRESS,PHONE,SKILL_LEVEL) values (10060,'Đại Đỗ','Hà Nội','0961130568','A');
Insert into DRIVER.DRIVER (ID,NAME,ADDRESS,PHONE,SKILL_LEVEL) values (10061,'Đại Đỗ','Hà Nội','0961130568','A');
Insert into DRIVER.DRIVER (ID,NAME,ADDRESS,PHONE,SKILL_LEVEL) values (10062,'Đại Đỗ','Hà Nội','0961130568','A');
Insert into DRIVER.DRIVER (ID,NAME,ADDRESS,PHONE,SKILL_LEVEL) values (10063,'Lê Văn Hoàng','Nam Định','0962251426','D');
Insert into DRIVER.DRIVER (ID,NAME,ADDRESS,PHONE,SKILL_LEVEL) values (10064,'Hoàng Anh','Lào Cai','0982263943','F');
REM INSERTING into DRIVER.ROSTER
SET DEFINE OFF;
Insert into DRIVER.ROSTER (DRIVER_ID,ROUTE_ID,TOTAL_ROUTE) values (10060,10000,1);
Insert into DRIVER.ROSTER (DRIVER_ID,ROUTE_ID,TOTAL_ROUTE) values (10063,10002,5);
Insert into DRIVER.ROSTER (DRIVER_ID,ROUTE_ID,TOTAL_ROUTE) values (10063,10001,3);
Insert into DRIVER.ROSTER (DRIVER_ID,ROUTE_ID,TOTAL_ROUTE) values (10062,10000,2);
Insert into DRIVER.ROSTER (DRIVER_ID,ROUTE_ID,TOTAL_ROUTE) values (10062,10001,2);
Insert into DRIVER.ROSTER (DRIVER_ID,ROUTE_ID,TOTAL_ROUTE) values (10061,10002,2);
REM INSERTING into DRIVER.ROUTE
SET DEFINE OFF;
Insert into DRIVER.ROUTE (ID,DISTANCE,TOTAL_BUS_STOP) values (10000,12.4,4);
Insert into DRIVER.ROUTE (ID,DISTANCE,TOTAL_BUS_STOP) values (10001,30.4,5);
Insert into DRIVER.ROUTE (ID,DISTANCE,TOTAL_BUS_STOP) values (10002,40.3,10);
--------------------------------------------------------
--  DDL for Trigger DEPT_BIR
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "DRIVER"."DEPT_BIR" 
BEFORE INSERT ON driver 
FOR EACH ROW

BEGIN
  SELECT dept_seq.NEXTVAL
  INTO   :new.id
  FROM   dual;
END;
/
ALTER TRIGGER "DRIVER"."DEPT_BIR" ENABLE;
--------------------------------------------------------
--  DDL for Trigger ROU_BIR
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "DRIVER"."ROU_BIR" 
BEFORE INSERT ON route
FOR EACH ROW
BEGIN
  SELECT route_seq.NEXTVAL
  INTO   :new.id
  FROM   dual;
END;
/
ALTER TRIGGER "DRIVER"."ROU_BIR" ENABLE;
--------------------------------------------------------
--  Constraints for Table ROSTER
--------------------------------------------------------

  ALTER TABLE "DRIVER"."ROSTER" MODIFY ("TOTAL_ROUTE" NOT NULL ENABLE);
  ALTER TABLE "DRIVER"."ROSTER" MODIFY ("ROUTE_ID" NOT NULL ENABLE);
  ALTER TABLE "DRIVER"."ROSTER" MODIFY ("DRIVER_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table DRIVER
--------------------------------------------------------

  ALTER TABLE "DRIVER"."DRIVER" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ROUTE
--------------------------------------------------------

  ALTER TABLE "DRIVER"."ROUTE" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
